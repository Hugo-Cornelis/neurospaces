#summary Guide to building Debian packages.
#labels debian,packaging,installer

= Building Debian packages for GENESIS 3 components =

This is a guide to show how to build Debian packages for components in GENESIS 3 using the installer scripts included with the installer package.


= Dependencies =

Before you can build a Debian package you need to have the following packages installed.

 * dh-make
 * dpkg-dev
 * dpkg

If you are using the Ubuntu operating system, all three are available from apt-get and Synaptic Package Manager. 


= Utilities = 

neurospaces_build_debian: Checks for all files needed to build a debian package and performs the build. 

= Configuration Files =

To build a Debian package you need the following files specific to the package you are building:

 * control: Has information like the package name, dependencies, and package information.
 * rules: Contains build instructions.
 * changelog: A log file that shows the date, author, and context of the last change made to the package.
 * copyright: Contains the author and distribution license. 

A detailed explanation of each file follows.

== control file ==

The control file is a series of fields which correspond to information about the package you are building.

 * Source - The source package name (Mandatory).
 * Section - classification for the package. 
 * Priority - Importance of installation to the user, all of GENESIS 3 can be labeled "optional"
 * Maintainer - The name and address of the packager (Mandatory).
 * Build-Depends - This holds dependencies that are checked when performing a build.
 * Homepage - The URL of the website for the package.
 * Package - The name of the binary package (Mandatory).
 * Architecture: Which architecture the package is for, all GENESIS  packages are labeled 'any.'
 * Depends - This holds dependencies that are checked during configuration.
 * Suggests - Recommended software.
 * Description - A textual description of the package and its uses.

Example taken from the installer package:

{{{
Source: neurospaces-developer
Section: Science 
Priority: optional
Maintainer: Hugo Cornelis [hugo.cornelis@gmail.com]
Build-Depends: python2.5(>=2.5),libc6(>=2.3.6),libgcc1 (>=4.1.1)
Homepage: http://neurospaces.sourceforge.net/

Package: neurospaces-developer
Architecture: any
Depends: python2.5(>=2.5),libc6(>=2.3.6),libgcc1 (>=4.1.1)
Suggests: gnuplot
Description: The Neurospaces developer package contains essential tools for Neurospaces development.
}}}

== rules file ==

This is a file with make instructions that are called when dpkg-buildpackage is invoked. It contains a rule for each source in the package.

The rules file used in the GENESIS 3 packages is based off of an example from Joey Hess from the Debian forums.

== changelog ==

== copyright file ==