#summary This is a guide to using the "backup_server" option for repository access

= Introduction =

This is a guide to setting a backup_server option in order to sync with a backup server in the event that the primary server is unconnectable. 

= Setting the server address =

In the developer package, located in _~/neurospaces_project/developer/source/snapshots/0_ there is a script in the bin directory named _neurospaces_build_. To set the backup server address there is an associative array value that must be set. Look for this variable:

{{{

my $version_control_servers
    = [
       {
	name => 'default',
	address => 'repo-genesis3.cbi.utsa.edu',
       },
       {
	name => 'default2',
	address => 'repo.cbi.utsa.edu',
       },
       {
	name => 'backup_server',
	address => '129.115.117.50',
       },
       {
	name => 'mercurial_server',
	address => 'http://repo-genesis3.cbi.utsa.edu/hg/',
       },
      ];

}}}

For the value for _backup_server_ set address to the intended host address using your text editor, then save your changes. Next you must install the scripts to your system, so perform:

{{{
neurospaces_install
}}}

and your updated script is installed and ready to use. This will allow you to pull from the indicated backup repository should it be listening. 

= Operations =

To perform a pull from the backup server enter the command:

{{{
neurospaces_pull --repo-pull backup_server
}}}

To perform an upgrade of your system against the backup repository perform the command:

{{{
neurospaces_upgrade --repo-pull backup_server
}}}

A sync can be performed via the command:

{{{
neurospaces_sync --repo-sync backup_server
}}}

however in order to sync the backup host must have given you write permission to their own repositories. 

= Setting your machine as a "backup" server =

To serve your own repositories to another user you must provide them with your ip address so that they can input it into the data array in _neurospaces_build_. Opening up a page like http://whatismyip.com/ will provide you with your ip address quickly. Once the intended user has entered your ip you can serve your repositories via the command:

{{{
neurospaces_serve
}}}

Status messages should pop up onto the terminal indicating when a client has successfully connected to your machine or if there was an error. 